---
layout: post
title: Собственные CLI инструменты
excerpt: Популярные языки программирования это мощный инструмент доступный практически на любом или на любом персональном компьютере. Непростительно не пользоваться им даже в самых бытовых ситуациях. Как насчет переименовать только что отснятые пару сотен кадров с фотоаппарата, мало ли еще какая нибудь скучная рутина? Гораздо веселее написать код для этого.
---


Возьмем к примеру Node.js. Замечательный инструмент который замечательно вписывается в среду OS X. Итак у нас MAC и Node.js, но таскать исполняемый скрипт за собой или прописывать путь до него это не для нас, мы же лентяи. Зато у нас есть командная строка (далее просто CLI), .bash_profile и alias. Добавим простой фокус: “ШИ-БЭНГ”

{% highlight sh %}
!#/usr/bin/env
{% endhighlight %}

env — unix утилита, исполняющая команду с изменением окружения. Чуть больше про нее можно прочитать <a href="http://ru.wikipedia.org/wiki/Env">здесь</a>.

Запускать инструменты я хочу под Node.js, для чего я создаю файл:

{% highlight html %}
~/JSTools/test.js
{% endhighlight %}

с содержимым:

{% highlight js %}
#!/usr/bin/env node

console.log("it's works!");
{% endhighlight %}

Скрипт по исполнению должен вывести в терминал, откуда мы его вызвали сообщение "it's works!”. Все просто.

Последний шаг добавление alias-а в файл переменных среды ~/.bash_profile. Если этого файла у вас нет то для простоты нашего эксперимента сделаем следующее, создадим файл ~/bash_profile, делать это удобно из CLI:

{% highlight sh %}
$ nano ~/.bash_profile
{% endhighlight %}

открывшийся пустой файл почти наверняка говорит о том что файла переменных у вас не было, тем лучше. В противном случае к уже имеющемуся добавьте единственную строку которую я помести в свой новый .bash_profile.

{% highlight sh %}
alias jsttest="~/JSTools/test.js"
{% endhighlight %}

Разумеется путь "~/JSTools/test.js" вы можете использовать какой вам удобно, главное что бы он совпадал с путем написаного ранее скрипт файла. Тоже самое с командой заданой alias-ом, по мне jsttest для этого скрипта самое оно.

Наслаждаемся успехом:

{% highlight sh %}
$ jsttest
it's works!
{% endhighlight %}

Идеи, замечания и критика всегда поощряется.
